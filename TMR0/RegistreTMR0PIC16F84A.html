<HTML>
<HEAD>
<TITLE>Registre TMR0 PIC 16F84A</TITLE>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<meta name="keywords" content="PIC,microchip,16F84A,timer 0">
<script type="text/javascript">
//<![CDATA[
var gs_d=new Date,DoW=gs_d.getDay();gs_d.setDate(gs_d.getDate()-(DoW+6)%7+3);
var ms=gs_d.valueOf();gs_d.setMonth(0);gs_d.setDate(4);
var gs_r=(Math.round((ms-gs_d.valueOf())/6048E5)+1)*gs_d.getFullYear();
var gs_p = (("https:" == document.location.protocol) ? "https://" : "http://");
document.write(unescape("%3Cscript src='" + gs_p + "s.gstat.orange.fr/lib/gs.js?"+gs_r+"' type='text/javascript'%3E%3C/script%3E"));
//]]>
</script>
</HEAD>

<BODY BGCOLOR="#FFFFCC">
<P><A HREF="registrespeciaux.htm"><IMG SRC="../../prev1.gif" WIDTH="32" HEIGHT="32" BORDER="0"></A><FONT SIZE="6" COLOR="#0000FF"><B><font color="#800000"> 
  PIC 16F84A</font></B></FONT></P>
<P><FONT SIZE="6" COLOR="#0000FF"><B>Registre TMR0 (Timer 0)</B></FONT></P>
<P>&nbsp;</P>
<P><FONT SIZE="4">Il s'agit d'un registre sp&eacute;cial situ&eacute; &agrave; 
  l'adresse 0x01 (banque 0) de la m&eacute;moire des donn&eacute;es (Data RAM).</FONT></P>
<P><FONT SIZE="4"><B>Ce 
registre contient un nombre de 8 bits (0 &agrave; 255 en num&eacute;ration d&eacute;cimale).</B></FONT></P><P>&nbsp;</P>
<P><FONT SIZE="4">Le module TMR0 (Timer 0) poss&egrave;de deux modes de fonctionnement 
  :</FONT></P>
<UL><LI><FONT SIZE="4">1- 
Le mode timer</FONT></LI><LI><FONT SIZE="4">2- Le mode compteur</FONT></LI></UL><P><FONT SIZE="5"><B><FONT COLOR="#0000FF">1- 
Le mode timer</FONT></B></FONT></P><P><FONT SIZE="4">Pour configurer le module 
TMR0 en mode timer, il faut au pr&eacute;alable que :</FONT></P>
<blockquote>
  <p><FONT SIZE="4"><B>T0CS = 0</B> (bit 5 du registre <B><A HREF="optionregister.htm">OPTION_REG</A></B>)</FONT></p>
</blockquote>
<P><FONT SIZE="4">Le contenu du registre TMR0 est alors incr&eacute;ment&eacute; 
  &agrave; chaque cycle de l'horloge interne.</FONT></P>
<P><FONT SIZE="4">1 cycle correspond &agrave; une dur&eacute;e de 1 &micro;s pour 
  un oscillateur &agrave; quartz de 4 MHz (1 cycle = 4 / F OSC).</FONT></P>
<P><FONT SIZE="4">En toute rigueur, cela est vrai si 
le taux de pr&eacute;division (<A HREF="optionregister.htm#prescaler"><B>prescaler</B></A>) 
est r&eacute;gl&eacute; &agrave; 1 (bit 3 du registre OPTION_REG = PSA = 1).</FONT></P>
<P><FONT SIZE="4">Avec un taux de pr&eacute;division de 128 (PSA = 0, PS2 = 1, 
  PS1 = 1, PS0 = 0), le contenu du registre TMR0 est incr&eacute;ment&eacute; 
  tous les 128 cycles (ou 128 &micro;s).</FONT></P>
<P><FONT SIZE="4">Notez que si le contenu du registre TMR0 est 255 (0xFF), il 
  passera &agrave; 0 (0x00) &agrave; la prochaine incr&eacute;mentation.</FONT></P>
<P>&nbsp;</P><P><FONT SIZE="4">En 
conclusion, le mode timer est utilis&eacute; pour <B>mesurer des dur&eacute;es.</B></FONT></P><P>&nbsp; 
</P><P><FONT SIZE="5"><B><FONT COLOR="#0000FF">2- Le mode compteur</FONT></B></FONT></P><P><FONT SIZE="4">Pour 
configurer le module TMR0 en mode compteur, il faut au pr&eacute;alable que :</FONT></P>
<blockquote>
  <p><FONT SIZE="4"><B>T0CS = 1</B> (bit 5 du registre <B><A HREF="optionregister.htm">OPTION_REG</A></B>)</FONT></p>
</blockquote>
<P><FONT SIZE="4">Le 
contenu du registre TMR0 est alors incr&eacute;ment&eacute; &agrave; chaque front 
du signal pr&eacute;sent sur la broche RA4/T0CKI :</FONT></P><UL><LI><FONT SIZE="4">front 
montant si T0SE = 0 (bit 4 du registre OPTION_REG)</FONT></LI><LI><FONT SIZE="4">front 
descendant si T0SE = 1 </FONT></LI></UL><P><FONT SIZE="4">En toute rigueur, cela 
est vrai si le taux de pr&eacute;division (<A HREF="optionregister.htm#prescaler"><B>prescaler</B></A>) 
est r&eacute;gl&eacute; &agrave; 1 (bit 3 du registre OPTION_REG = PSA = 1).</FONT></P>
<P><FONT SIZE="4">Avec un taux de pr&eacute;division de 32 (PSA = 0, PS2 = 1, 
  PS1 = 0, PS0 = 0), le contenu du registre TMR0 est incr&eacute;ment&eacute; 
  tous les 32 cycles du signal pr&eacute;sent sur la broche RA4/T0CKI.</FONT></P>
<P><FONT SIZE="4">En conclusion, le mode compteur est utilis&eacute; pour <B>faire 
  du ... comptage.</B></FONT></P>
<P>&nbsp;</P>
<P><b><font size="5" color="#0000FF">3 - Interruption</font></b></P>
<P><font size="4">On peut activer une interruption quand le registre TMR0 d&eacute;borde 
  (passage de 0xFF &agrave; 0x00).</font></P>
<blockquote> 
  <p><font size="4"><a href="interrupt.htm"><b><i>Pour plus d'informations sur 
    l'interruption TMR0</i></b></a></font></p>
  <p>&nbsp;</p>
</blockquote>
<p><font size="4"><b>(C) Fabrice Sinc&egrave;re</b></font></p>
<P>&nbsp;</P>
<P>&nbsp;</P>
<script type="text/javascript">
//<![CDATA[
if (typeof _gstat != "undefined") _gstat.audience('','pagesperso-orange.fr');
//]]>
</script>
</BODY>
</HTML>
